<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Data Analysis and Visualization in Python for Ecologists: Starting With Data</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css"><script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/dc/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicons/dc/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="../favicons/dc/favicon-16x16.png"><link rel="manifest" href="../favicons/dc/site.webmanifest"><link rel="mask-icon" href="../favicons/dc/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav data"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="dc-logo" alt="Data Carpentry" src="../assets/images/data-logo.svg"></div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='../02-starting-with-data.html';">Learner View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav data" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Data Carpentry" src="../assets/images/data-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Data Analysis and Visualization in Python for Ecologists
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Data Analysis and Visualization in Python for Ecologists
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="CONTRIBUTORS.html">About Contributors</a></li><li><a class="dropdown-item" href="extra_challenges.html">Extra Challenges</a></li><hr><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="jupyter_notebooks.html">Overview of Jupyter Notebooks</a></li><li><a class="dropdown-item" href="reference.html">Glossary</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Data Analysis and Visualization in Python for Ecologists
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 11%" class="percentage">
    11%
  </div>
  <div class="progress data">
    <div class="progress-bar data" role="progressbar" style="width: 11%" aria-valuenow="11" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../02-starting-with-data.html">Learner View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="00-before-we-start.html">1. Before we start</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="01-short-introduction-to-Python.html">2. Short Introduction to Programming in Python</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        3. Starting With Data
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#working-with-pandas-dataframes-in-python">Working With Pandas DataFrames in Python</a></li>
<li><a href="#reading-csv-data-using-pandas">Reading CSV Data Using Pandas</a></li>
<li><a href="#groups-in-pandas">Groups in Pandas</a></li>
<li><a href="#quick-easy-plotting-data-using-pandas">Quick &amp; Easy Plotting Data Using Pandas</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="03-index-slice-subset.html">4. Indexing, Slicing and Subsetting DataFrames in Python</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="04-data-types-and-format.html">5. Data Types and Formats</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="05-merging-data.html">6. Combining DataFrames with Pandas</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="06-loops-and-functions.html">7. Data Workflows and Automation</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="07-visualization-ggplot-python.html">8. Making Plots With plotnine</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="08-putting-it-all-together.html">9. Data Ingest and Visualization - Matplotlib and Pandas</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush11">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading11">
        <a href="09-working-with-sql.html">10. Accessing SQLite Databases Using Python and Pandas</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <li><a href="CONTRIBUTORS.html">About Contributors</a></li><li><a href="extra_challenges.html">Extra Challenges</a></li><hr><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="jupyter_notebooks.html">Overview of Jupyter Notebooks</a></li><li><a class="dropdown-item" href="reference.html">Glossary</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="../instructor/aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/01-short-introduction-to-Python.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/03-index-slice-subset.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/01-short-introduction-to-Python.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Short Introduction
        </a>
        <a class="chapter-link float-end" href="../instructor/03-index-slice-subset.html" rel="next">
          Next: Indexing, Slicing...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Starting With Data</h1>
        <p>Last updated on 2024-02-23 |

        <a href="https://github.com/datacarpentry/python-ecology-lesson/edit/main/episodes/02-starting-with-data.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 60 minutes</p>

        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>How can I import data in Python?</li>
<li>What is Pandas?</li>
<li>Why should I use Pandas to work with data?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Navigate the workshop directory and download a dataset.</li>
<li>Explain what a library is and what libraries are used for.</li>
<li>Describe what the Python Data Analysis Library (Pandas) is.</li>
<li>Load the Python Data Analysis Library (Pandas).</li>
<li>Read tabular data into Python using Pandas.</li>
<li>Describe what a DataFrame is in Python.</li>
<li>Access and summarize data stored in a DataFrame.</li>
<li>Define indexing as it relates to data structures.</li>
<li>Perform basic mathematical operations and summary statistics on data
in a Pandas DataFrame.</li>
<li>Create simple plots.</li>
</ul></div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="working-with-pandas-dataframes-in-python">Working With Pandas DataFrames in Python<a class="anchor" aria-label="anchor" href="#working-with-pandas-dataframes-in-python"></a></h2>
<hr class="half-width"><p>We can automate the process of performing data manipulations in
Python. It’s efficient to spend time building the code to perform these
tasks because once it’s built, we can use it over and over on different
datasets that use a similar format. This makes our data manipulation
processes reproducible. We can also share our code with colleagues and
they can replicate the same analysis starting with the same original
data.</p>
<div class="section level4">
<h4 id="starting-in-the-same-spot">Starting in the same spot<a class="anchor" aria-label="anchor" href="#starting-in-the-same-spot"></a></h4>
<p>To help the lesson run smoothly, let’s ensure everyone is in the same
directory. This should help us avoid path and file name issues. At this
time please navigate to the workshop directory. If you are working in
Jupyter Notebook be sure that you start your notebook in the workshop
directory.</p>
</div>
<div class="section level4">
<h4 id="our-data">Our Data<a class="anchor" aria-label="anchor" href="#our-data"></a></h4>
<p>For this lesson, we will be using the Portal Teaching data, a subset
of the data from Ernst et al. <a href="https://www.esapubs.org/archive/ecol/E090/118/default.htm" class="external-link">Long-term
monitoring and experimental manipulation of a Chihuahuan Desert
ecosystem near Portal, Arizona, USA</a>.</p>
<p>We will be using files from the <a href="https://figshare.com/articles/Portal_Project_Teaching_Database/1314459" class="external-link">Portal
Project Teaching Database</a>. This section will use the
<code>surveys.csv</code> file that can be downloaded here: <a href="https://ndownloader.figshare.com/files/2292172" class="external-link">https://ndownloader.figshare.com/files/2292172</a></p>
<p>We are studying the <strong>species</strong> and
<strong>weight</strong> of animals caught in sites in our study area.
The dataset is stored as a <code>.csv</code> file: each row holds
information for a single animal, and the columns represent:</p>
<table class="table"><thead><tr class="header"><th>Column</th>
<th>Description</th>
</tr></thead><tbody><tr class="odd"><td>record_id</td>
<td>Unique id for the observation</td>
</tr><tr class="even"><td>month</td>
<td>month of observation</td>
</tr><tr class="odd"><td>day</td>
<td>day of observation</td>
</tr><tr class="even"><td>year</td>
<td>year of observation</td>
</tr><tr class="odd"><td>plot_id</td>
<td>ID of a particular site</td>
</tr><tr class="even"><td>species_id</td>
<td>2-letter code</td>
</tr><tr class="odd"><td>sex</td>
<td>sex of animal (“M”, “F”)</td>
</tr><tr class="even"><td>hindfoot_length</td>
<td>length of the hindfoot in mm</td>
</tr><tr class="odd"><td>weight</td>
<td>weight of the animal in grams</td>
</tr></tbody></table><p>The first few rows of our first file look like this:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>record_id,month,day,year,plot_id,species_id,sex,hindfoot_length,weight
1,7,16,1977,2,NL,M,32,
2,7,16,1977,3,NL,M,33,
3,7,16,1977,2,DM,F,37,
4,7,16,1977,7,DM,M,36,
5,7,16,1977,3,DM,M,35,
6,7,16,1977,1,PF,M,14,
7,7,16,1977,2,PE,F,,
8,7,16,1977,1,DM,M,37,
9,7,16,1977,1,DM,F,34,</code></pre>
</div>
<hr></div>
<div class="section level3">
<h3 id="about-libraries">About Libraries<a class="anchor" aria-label="anchor" href="#about-libraries"></a></h3>
<p>A library in Python contains a set of tools (called functions) that
perform tasks on our data. Importing a library is like getting a piece
of lab equipment out of a storage locker and setting it up on the bench
for use in a project. Once a library is set up, it can be used or called
to perform the task(s) it was built to do.</p>
</div>
<div class="section level3">
<h3 id="pandas-in-python">Pandas in Python<a class="anchor" aria-label="anchor" href="#pandas-in-python"></a></h3>
<p>One of the best options for working with tabular data in Python is to
use the <a href="https://pandas.pydata.org" class="external-link">Python Data Analysis
Library</a> (a.k.a. Pandas). The Pandas library provides data
structures, produces high quality plots with <a href="https://matplotlib.org" class="external-link">matplotlib</a> and integrates nicely with
other libraries that use <a href="https://www.numpy.org/" class="external-link">NumPy</a>
(which is another Python library) arrays.</p>
<p>Python doesn’t load all of the libraries available to it by default.
We have to add an <code>import</code> statement to our code in order to
use library functions. To import a library, we use the syntax
<code>import libraryName</code>. If we want to give the library a
nickname to shorten the command, we can add
<code>as nickNameHere</code>. An example of importing the pandas library
using the common nickname <code>pd</code> is below.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code></pre>
</div>
<p>Each time we call a function that’s in a library, we use the syntax
<code>LibraryName.FunctionName</code>. Adding the library name with a
<code>.</code> before the function name tells Python where to find the
function. In the example above, we have imported Pandas as
<code>pd</code>. This means we don’t have to type out
<code>pandas</code> each time we call a Pandas function.</p>
</div>
</section><section><h2 class="section-heading" id="reading-csv-data-using-pandas">Reading CSV Data Using Pandas<a class="anchor" aria-label="anchor" href="#reading-csv-data-using-pandas"></a></h2>
<hr class="half-width"><p>We will begin by locating and reading our survey data which are in
CSV format. CSV stands for Comma-Separated Values and is a common way to
store formatted data. Other symbols may also be used, so you might see
tab-separated, colon-separated or space separated files. pandas can work
with each of these types of separators, as it allows you to specify the
appropriate separator for your data. CSV files (and other -separated
value file types) make it easy to share data, and can be imported and
exported from many applications, including Microsoft Excel. For more
details on CSV files, see the <a href="https://www.datacarpentry.org/spreadsheet-ecology-lesson/05-exporting-data" class="external-link">Data
Organisation in Spreadsheets</a> lesson. We can use Pandas’
<code>read_csv</code> function to pull the file directly into a <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html" class="external-link">DataFrame</a>.</p>
<div class="section level3">
<h3 id="so-whats-a-dataframe">So What’s a DataFrame?<a class="anchor" aria-label="anchor" href="#so-whats-a-dataframe"></a></h3>
<p>A DataFrame is a 2-dimensional data structure that can store data of
different types (including strings, numbers, categories and more) in
columns. It is similar to a spreadsheet or an SQL table or the
<code>data.frame</code> in R. A DataFrame always has an index (0-based).
An index refers to the position of an element in the data structure.</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Note that pd.read_csv is used because we imported pandas as pd</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>pd.read_csv(<span class="st">"data/surveys.csv"</span>)</span></code></pre>
</div>
<p>The above command yields the <strong>output</strong> below:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>      record_id month day year  plot_id species_id  sex hindfoot_length weight
0             1     7  16 1977        2         NL    M            32.0    NaN
1             2     7  16 1977        3         NL    M            33.0    NaN
2             3     7  16 1977        2         DM    F            37.0    NaN
3             4     7  16 1977        7         DM    M            36.0    NaN
4             5     7  16 1977        3         DM    M            35.0    NaN
...         ...   ... ...  ...      ...        ...  ...             ...    ...
35544     35545    12  31 2002       15         AH  NaN             NaN    NaN
35545     35546    12  31 2002       15         AH  NaN             NaN    NaN
35546     35547    12  31 2002       10         RM    F            15.0   14.0
35547     35548    12  31 2002        7         DO    M            36.0   51.0
35548     35549    12  31 2002        5        NaN  NaN             NaN    NaN

[35549 rows x 9 columns]</code></pre>
</div>
<p>We can see that there were 35,549 rows parsed. Each row has 9
columns. The first column is the index of the DataFrame. The index is
used to identify the position of the data, but it is not an actual
column of the DataFrame. It looks like the <code>read_csv</code>
function in Pandas read our file properly. However, we haven’t saved any
data to memory so we can work with it. We need to assign the DataFrame
to a variable. Remember that a variable is a name for a value, such as
<code>x</code>, or <code>data</code>. We can create a new object with a
variable name by assigning a value to it using <code>=</code>.</p>
<p>Let’s call the imported survey data <code>surveys_df</code>:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>surveys_df <span class="op">=</span> pd.read_csv(<span class="st">"data/surveys.csv"</span>)</span></code></pre>
</div>
<p>Note that Python does not produce any output on the screen when you
assign the imported DataFrame to a variable. We can view the value of
the <code>surveys_df</code> object by typing its name into the Python
command prompt.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>surveys_df</span></code></pre>
</div>
<p>which prints contents like above.</p>
<p>Note: if the output is too wide to print on your narrow terminal
window, you may see something slightly different as the large set of
data scrolls past. You may see simply the last column of data:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>17        NaN
18        NaN
19        NaN
20        NaN
21        NaN
22        NaN
23        NaN
24        NaN
25        NaN
26        NaN
27        NaN
28        NaN
29        NaN
...       ...
35519    36.0
35520    48.0
35521    45.0
35522    44.0
35523    27.0
35524    26.0
35525    24.0
35526    43.0
35527     NaN
35528    25.0
35529     NaN
35530     NaN
35531    43.0
35532    48.0
35533    56.0
35534    53.0
35535    42.0
35536    46.0
35537    31.0
35538    68.0
35539    23.0
35540    31.0
35541    29.0
35542    34.0
35543     NaN
35544     NaN
35545     NaN
35546    14.0
35547    51.0
35548     NaN

[35549 rows x 9 columns]</code></pre>
</div>
<p>Don’t worry: all the data is there! You can confirm this by scrolling
upwards, or by looking at the <code>[# of rows x # of columns]</code>
block at the end of the output.</p>
<p>You can also use <code>surveys_df.head()</code> to view only the
first few rows of the dataset in an output that is easier to fit in one
window. After doing this, you can see that pandas has neatly formatted
the data to fit our screen:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>surveys_df.head() <span class="co"># The head() method displays the first several lines of a file. It</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>                  <span class="co"># is discussed below.</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   record_id  month  day  year  plot_id species_id sex  hindfoot_length  \
5          6      7   16  1977        1         PF   M             14.0
6          7      7   16  1977        2         PE   F              NaN
7          8      7   16  1977        1         DM   M             37.0
8          9      7   16  1977        1         DM   F             34.0
9         10      7   16  1977        6         PF   F             20.0

   weight
5     NaN
6     NaN
7     NaN
8     NaN
9     NaN</code></pre>
</div>
</div>
<div class="section level3">
<h3 id="exploring-our-species-survey-data">Exploring Our Species Survey Data<a class="anchor" aria-label="anchor" href="#exploring-our-species-survey-data"></a></h3>
<p>Again, we can use the <code>type</code> function to see what kind of
thing <code>surveys_df</code> is:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="bu">type</span>(surveys_df)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;class 'pandas.core.frame.DataFrame'&gt;</code></pre>
</div>
<p>As expected, it’s a DataFrame (or, to use the full name that Python
uses to refer to it internally, a
<code>pandas.core.frame.DataFrame</code>).</p>
<p>What kind of things does <code>surveys_df</code> contain? DataFrames
have an attribute called <code>dtypes</code> that answers this:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>surveys_df.dtypes</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>record_id            int64
month                int64
day                  int64
year                 int64
plot_id              int64
species_id          object
sex                 object
hindfoot_length    float64
weight             float64
dtype: object</code></pre>
</div>
<p>All the values in a single column have the same type. For example,
values in the month column have type <code>int64</code>, which is a kind
of integer. Cells in the month column cannot have fractional values, but
values in weight and hindfoot_length columns can, because they have type
<code>float64</code>. The <code>object</code> type doesn’t have a very
helpful name, but in this case it represents strings (such as ‘M’ and
‘F’ in the case of sex).</p>
<p>We’ll talk a bit more about what the different formats mean in a
different lesson.</p>
<div class="section level4">
<h4 id="useful-ways-to-view-dataframe-objects-in-python">Useful Ways to View DataFrame Objects in Python<a class="anchor" aria-label="anchor" href="#useful-ways-to-view-dataframe-objects-in-python"></a></h4>
<p>There are many ways to summarize and access the data stored in
DataFrames, using <strong>attributes</strong> and
<strong>methods</strong> provided by the DataFrame object.</p>
<p>Attributes are features of an object. For example, the
<code>shape</code> attribute will output the size (the number of rows
and columns) of an object. To access an attribute, use the DataFrame
object name followed by the attribute name
<code>df_object.attribute</code>. For example, using the DataFrame
<code>surveys_df</code> and attribute <code>columns</code>, an index of
all the column names in the DataFrame can be accessed with
<code>surveys_df.columns</code>.</p>
<p>Methods are like functions, but they only work on particular kinds of
objects. As an example, <strong>the <code>head()</code> method</strong>
works on DataFrames. Methods are called in a similar fashion to
attributes, using the syntax <code>df_object.method()</code>. Using
<code>surveys_df.head()</code> gets the first few rows in the DataFrame
<code>surveys_df</code> using the <code>head()</code> method. With a
method, we can supply extra information in the parentheses to control
behaviour.</p>
<p>Let’s look at the data using these.</p>
<div id="challenge---dataframes" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge---dataframes" class="callout-inner">
<h3 class="callout-title">Challenge - DataFrames</h3>
<div class="callout-content">
<p>Using our DataFrame <code>surveys_df</code>, try out the
<strong>attributes</strong> &amp; <strong>methods</strong> below to see
what they return.</p>
<ol style="list-style-type: decimal"><li><p><code>surveys_df.columns</code></p></li>
<li><p><code>surveys_df.shape</code> Take note of the output of
<code>shape</code> - what format does it return the shape of the
DataFrame in?</p></li>
</ol><p>HINT: <a href="https://docs.python.org/3/tutorial/datastructures.html#tuples-and-sequences" class="external-link">More
on tuples, here</a>.</p>
<ol start="3" style="list-style-type: decimal"><li><p><code>surveys_df.head()</code> Also, what does
<code>surveys_df.head(15)</code> do?</p></li>
<li><p><code>surveys_df.tail()</code></p></li>
</ol></div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<ol style="list-style-type: decimal"><li>
<code>surveys_df.columns</code> provides the names of the columns in
the DataFrame.</li>
<li>
<code>surveys_df.shape</code> provides the dimensions of the
DataFrame as a tuple in <code>(r,c)</code> format, where <code>r</code>
is the number of rows and <code>c</code> the number of columns.</li>
<li>
<code>surveys_df.head()</code> returns the first 5 lines of the
DataFrame, annotated with column and row labels. Adding an integer as an
argument to the function specifies the number of lines to display from
the top of the DataFrame, e.g. <code>surveys_df.head(15)</code> will
return the first 15 lines.</li>
<li>
<code>surveys_df.tail()</code> will display the last 5 lines, and
behaves similarly to the <code>head()</code> method.</li>
</ol></div>
</div>
</div>
</div>
<div id="accordionInstructor1" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor1" aria-expanded="false" aria-controls="collapseInstructor1">
  <h3 class="accordion-header" id="headingInstructor1">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Recapping object (im)mutability </h3>
</button>
<div id="collapseInstructor1" class="accordion-collapse collapse" aria-labelledby="headingInstructor1" data-bs-parent="#accordionInstructor1">
<div class="accordion-body">
<p>Working through solutions to the challenge above can provide a good
opportunity to recap about mutability and immutability of different
objects. Show that the DataFrame index ( the <code>columns</code>
attribute) is immutable, e.g. 
<code>surveys_df.columns[4] = "plotid"</code> returns a
<code>TypeError</code>.</p>
<p>Adapting the name is done with the <code>rename</code> function:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>surveys_df.rename(columns<span class="op">=</span>{<span class="st">"plot_id"</span>: <span class="st">"plotid"</span>})`)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="calculating-statistics-from-data-in-a-pandas-dataframe">Calculating Statistics From Data In A Pandas DataFrame<a class="anchor" aria-label="anchor" href="#calculating-statistics-from-data-in-a-pandas-dataframe"></a></h3>
<p>We’ve read our data into Python. Next, let’s perform some quick
summary statistics to learn more about the data that we’re working with.
We might want to know how many animals were collected in each site, or
how many of each species were caught. We can perform summary stats
quickly using groups. But first we need to figure out what we want to
group by.</p>
<p>Let’s begin by exploring our data:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="co"># Look at the column names</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>surveys_df.columns</span></code></pre>
</div>
<p>which <strong>returns</strong>:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Index(['record_id', 'month', 'day', 'year', 'plot_id', 'species_id', 'sex',
       'hindfoot_length', 'weight'],
      dtype='object')</code></pre>
</div>
<p>Let’s get a list of all the species. The <code>pd.unique</code>
function tells us all of the unique values in the
<code>species_id</code> column.</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>pd.unique(surveys_df[<span class="st">'species_id'</span>])</span></code></pre>
</div>
<p>which <strong>returns</strong>:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>array(['NL', 'DM', 'PF', 'PE', 'DS', 'PP', 'SH', 'OT', 'DO', 'OX', 'SS',
       'OL', 'RM', nan, 'SA', 'PM', 'AH', 'DX', 'AB', 'CB', 'CM', 'CQ',
       'RF', 'PC', 'PG', 'PH', 'PU', 'CV', 'UR', 'UP', 'ZL', 'UL', 'CS',
       'SC', 'BA', 'SF', 'RO', 'AS', 'SO', 'PI', 'ST', 'CU', 'SU', 'RX',
       'PB', 'PL', 'PX', 'CT', 'US'], dtype=object)</code></pre>
</div>
<div id="challenge---statistics" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge---statistics" class="callout-inner">
<h3 class="callout-title">Challenge - Statistics</h3>
<div class="callout-content">
<ol style="list-style-type: decimal"><li><p>Create a list of unique site IDs (“plot_id”) found in the surveys
data. Call it <code>site_names</code>. How many unique sites are there
in the data? How many unique species are in the data?</p></li>
<li><p>What is the difference between <code>len(site_names)</code> and
<code>surveys_df['plot_id'].nunique()</code>?</p></li>
</ol></div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<ol style="list-style-type: decimal"><li><code>site_names = pd.unique(surveys_df["plot_id"])</code></li>
</ol><ul><li>How many unique sites are in the data? <code>site_names.size</code>
or <code>len(site_names)</code> provide the answer: 24</li>
<li>How many unique species are in the data?
<code>len(pd.unique(surveys_df["species_id"]))</code> tells us there are
49 species</li>
</ul><ol start="2" style="list-style-type: decimal"><li>
<code>len(site_names)</code> and
<code>surveys_df['plot_id'].nunique()</code> both provide the same
output: they are alternative ways of getting the unique values. The
<code>nunique</code> method combines the count and unique value
extraction, and can help avoid the creation of intermediate variables
like <code>site_names</code>.</li>
</ol></div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="groups-in-pandas">Groups in Pandas<a class="anchor" aria-label="anchor" href="#groups-in-pandas"></a></h2>
<hr class="half-width"><p>We often want to calculate summary statistics grouped by subsets or
attributes within fields of our data. For example, we might want to
calculate the average weight of all individuals per site.</p>
<p>We can calculate basic statistics for all records in a single column
using the syntax below:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>surveys_df[<span class="st">'weight'</span>].describe()</span></code></pre>
</div>
<p>gives <strong>output</strong></p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a>count    <span class="fl">32283.000000</span></span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a>mean        <span class="fl">42.672428</span></span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a>std         <span class="fl">36.631259</span></span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a><span class="bu">min</span>          <span class="fl">4.000000</span></span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a><span class="dv">25</span><span class="op">%</span>         <span class="fl">20.000000</span></span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a><span class="dv">50</span><span class="op">%</span>         <span class="fl">37.000000</span></span>
<span id="cb20-7"><a href="#cb20-7" tabindex="-1"></a><span class="dv">75</span><span class="op">%</span>         <span class="fl">48.000000</span></span>
<span id="cb20-8"><a href="#cb20-8" tabindex="-1"></a><span class="bu">max</span>        <span class="fl">280.000000</span></span>
<span id="cb20-9"><a href="#cb20-9" tabindex="-1"></a>Name: weight, dtype: float64</span></code></pre>
</div>
<div id="accordionInstructor2" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor2" aria-expanded="false" aria-controls="collapseInstructor2">
  <h3 class="accordion-header" id="headingInstructor2">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Important Bug Note </h3>
</button>
<div id="collapseInstructor2" class="accordion-collapse collapse" aria-labelledby="headingInstructor2" data-bs-parent="#accordionInstructor2">
<div class="accordion-body">
<p>In pandas prior to version 0.18.1 there is a bug causing
<code>surveys_df['weight'].describe()</code> to return a runtime
error.</p>
</div>
</div>
</div>
</div>
<p>We can also extract one specific metric if we wish:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>surveys_df[<span class="st">'weight'</span>].<span class="bu">min</span>()</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a>surveys_df[<span class="st">'weight'</span>].<span class="bu">max</span>()</span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a>surveys_df[<span class="st">'weight'</span>].mean()</span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a>surveys_df[<span class="st">'weight'</span>].std()</span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a>surveys_df[<span class="st">'weight'</span>].count()</span></code></pre>
</div>
<p>But if we want to summarize by one or more variables, for example
sex, we can use <strong>Pandas’ <code>.groupby</code> method</strong>.
Once we’ve created a groupby DataFrame, we can quickly calculate summary
statistics by a group of our choice.</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="co"># Group data by sex</span></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a>grouped_data <span class="op">=</span> surveys_df.groupby(<span class="st">'sex'</span>)</span></code></pre>
</div>
<p>The <strong>pandas function <code>describe</code></strong> will
return descriptive stats including: mean, median, max, min, std and
count for a particular column in the data. Pandas’ <code>describe</code>
function will only return summary values for columns containing numeric
data.</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="co"># Summary statistics for all numeric columns by sex</span></span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a>grouped_data.describe()</span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a><span class="co"># Provide the mean for each numeric column by sex</span></span>
<span id="cb23-4"><a href="#cb23-4" tabindex="-1"></a>grouped_data.mean(numeric_only<span class="op">=</span><span class="va">True</span>)</span></code></pre>
</div>
<p><code>grouped_data.mean(numeric_only=True)</code>
<strong>OUTPUT:</strong></p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>        record_id     month        day         year    plot_id  \
sex
F    18036.412046  6.583047  16.007138  1990.644997  11.440854
M    17754.835601  6.392668  16.184286  1990.480401  11.098282

     hindfoot_length     weight
sex
F          28.836780  42.170555
M          29.709578  42.995379
</code></pre>
</div>
<p>The <code>groupby</code> command is powerful in that it allows us to
quickly generate summary stats.</p>
<div id="challenge---summary-data" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge---summary-data" class="callout-inner">
<h3 class="callout-title">Challenge - Summary Data</h3>
<div class="callout-content">
<ol style="list-style-type: decimal"><li>How many recorded individuals are female <code>F</code> and how many
male <code>M</code>?</li>
<li>What happens when you group by two columns using the following
syntax and then calculate mean values?</li>
</ol><ul><li><code>grouped_data2 = surveys_df.groupby(['plot_id', 'sex'])</code></li>
<li><code>grouped_data2.mean(numeric_only=True)</code></li>
</ul><ol start="3" style="list-style-type: decimal"><li>Summarize weight values for each site in your data. HINT: you can
use the following syntax to only create summary statistics for one
column in your data. <code>by_site['weight'].describe()</code>
</li>
</ol></div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<ol style="list-style-type: decimal"><li>The first column of output from <code>grouped_data.describe()</code>
(count) tells us that the data contains 15690 records for female
individuals and 17348 records for male individuals.
<ul><li>Note that these two numbers do not sum to 35549, the total number of
rows we know to be in the <code>surveys_df</code> DataFrame. Why do you
think some records were excluded from the grouping?</li>
</ul></li>
<li>Calling the <code>mean()</code> method on data grouped by these two
columns calculates and returns the mean value for each combination of
plot and sex.
<ul><li>Note that the mean is not meaningful for some variables, e.g. day,
month, and year. You can specify particular columns and particular
summary statistics using the <code>agg()</code> method (short for
<em>aggregate</em>), e.g. to obtain the last survey year, median
foot-length and mean weight for each plot/sex combination:</li>
</ul></li>
</ol><div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a>surveys_df.groupby([<span class="st">'plot_id'</span>, <span class="st">'sex'</span>]).agg({<span class="st">"year"</span>: <span class="st">'max'</span>,</span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a>                                           <span class="st">"hindfoot_length"</span>: <span class="st">'median'</span>,</span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a>                                           <span class="st">"weight"</span>: <span class="st">'mean'</span>})</span></code></pre>
</div>
<ol start="3" style="list-style-type: decimal"><li><code>surveys_df.groupby(['plot_id'])['weight'].describe()</code></li>
</ol><div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>          count       mean        std  min   25%   50%   75%    max
plot_id
1        1903.0  51.822911  38.176670  4.0  30.0  44.0  53.0  231.0
2        2074.0  52.251688  46.503602  5.0  24.0  41.0  50.0  278.0
3        1710.0  32.654386  35.641630  4.0  14.0  23.0  36.0  250.0
4        1866.0  47.928189  32.886598  4.0  30.0  43.0  50.0  200.0
5        1092.0  40.947802  34.086616  5.0  21.0  37.0  48.0  248.0
6        1463.0  36.738893  30.648310  5.0  18.0  30.0  45.0  243.0
7         638.0  20.663009  21.315325  4.0  11.0  17.0  23.0  235.0
8        1781.0  47.758001  33.192194  5.0  26.0  44.0  51.0  178.0
9        1811.0  51.432358  33.724726  6.0  36.0  45.0  50.0  275.0
10        279.0  18.541219  20.290806  4.0  10.0  12.0  21.0  237.0
11       1793.0  43.451757  28.975514  5.0  26.0  42.0  48.0  212.0
12       2219.0  49.496169  41.630035  6.0  26.0  42.0  50.0  280.0
13       1371.0  40.445660  34.042767  5.0  20.5  33.0  45.0  241.0
14       1728.0  46.277199  27.570389  5.0  36.0  44.0  49.0  222.0
15        869.0  27.042578  35.178142  4.0  11.0  18.0  26.0  259.0
16        480.0  24.585417  17.682334  4.0  12.0  20.0  34.0  158.0
17       1893.0  47.889593  35.802399  4.0  27.0  42.0  50.0  216.0
18       1351.0  40.005922  38.480856  5.0  17.5  30.0  44.0  256.0
19       1084.0  21.105166  13.269840  4.0  11.0  19.0  27.0  139.0
20       1222.0  48.665303  50.111539  5.0  17.0  31.0  47.0  223.0
21       1029.0  24.627794  21.199819  4.0  10.0  22.0  31.0  190.0
22       1298.0  54.146379  38.743967  5.0  29.0  42.0  54.0  212.0
23        369.0  19.634146  18.382678  4.0  10.0  14.0  23.0  199.0
24        960.0  43.679167  45.936588  4.0  19.0  27.5  45.0  251.0</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="quickly-creating-summary-counts-in-pandas">Quickly Creating Summary Counts in Pandas<a class="anchor" aria-label="anchor" href="#quickly-creating-summary-counts-in-pandas"></a></h3>
<p>Let’s next count the number of samples for each species. We can do
this in a few ways, but we’ll use <code>groupby</code> combined with
<strong>a <code>count()</code> method</strong>.</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="co"># Count the number of samples by species</span></span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a>species_counts <span class="op">=</span> surveys_df.groupby(<span class="st">'species_id'</span>)[<span class="st">'record_id'</span>].count()</span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a><span class="bu">print</span>(species_counts)</span></code></pre>
</div>
<p>Or, we can also count just the rows that have the species “DO”:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a>surveys_df.groupby(<span class="st">'species_id'</span>)[<span class="st">'record_id'</span>].count()[<span class="st">'DO'</span>]</span></code></pre>
</div>
<div id="challenge---make-a-list" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge---make-a-list" class="callout-inner">
<h3 class="callout-title">Challenge - Make a list</h3>
<div class="callout-content">
<p>What’s another way to create a list of species and associated
<code>count</code> of the records in the data? Hint: you can perform
<code>count</code>, <code>min</code>, etc. functions on groupby
DataFrames in the same way you can perform them on regular
DataFrames.</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<p>As well as calling <code>count()</code> on the <code>record_id</code>
column of the grouped DataFrame as above, an equivalent result can be
obtained by extracting <code>record_id</code> from the result of
<code>count()</code> called directly on the grouped DataFrame:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a>surveys_df.groupby(<span class="st">'species_id'</span>).count()[<span class="st">'record_id'</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>species_id
AB      303
AH      437
AS        2
BA       46
CB       50
CM       13
CQ       16
CS        1
CT        1
CU        1
CV        1
DM    10596
DO     3027
DS     2504
DX       40
NL     1252
OL     1006
OT     2249
OX       12
PB     2891
PC       39
PE     1299
PF     1597
PG        8
PH       32
PI        9
PL       36
PM      899
PP     3123
PU        5
PX        6
RF       75
RM     2609
RO        8
RX        2
SA       75
SC        1
SF       43
SH      147
SO       43
SS      248
ST        1
SU        5
UL        4
UP        8
UR       10
US        4
ZL        2</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="basic-math-functions">Basic Math Functions<a class="anchor" aria-label="anchor" href="#basic-math-functions"></a></h3>
<p>If we wanted to, we could apply a mathematical operation like
addition or division on an entire column of our data. For example, let’s
multiply all weight values by 2.</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="co"># Multiply all weight values by 2</span></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a>surveys_df[<span class="st">'weight'</span>]<span class="op">*</span><span class="dv">2</span></span></code></pre>
</div>
<p>A more practical use of this might be to normalize the data according
to a mean, area, or some other value calculated from our data.</p>
</div>
</section><section><h2 class="section-heading" id="quick-easy-plotting-data-using-pandas">Quick &amp; Easy Plotting Data Using Pandas<a class="anchor" aria-label="anchor" href="#quick-easy-plotting-data-using-pandas"></a></h2>
<hr class="half-width"><p>We can plot our summary stats using Pandas, too.</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="co"># Make sure figures appear inline in Ipython Notebook</span></span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a><span class="op">%</span>matplotlib inline</span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a><span class="co"># Create a quick bar chart</span></span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a>species_counts.plot(kind<span class="op">=</span><span class="st">'bar'</span>)<span class="op">;</span></span></code></pre>
</div>
<p><img src="../fig/countPerSpecies.png" alt="Weight by Species Site" class="figure">
Count per species site</p>
<p>We can also look at how many animals were captured in each site:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a>total_count <span class="op">=</span> surveys_df.groupby(<span class="st">'plot_id'</span>)[<span class="st">'record_id'</span>].nunique()</span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a><span class="co"># Let's plot that too</span></span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a>total_count.plot(kind<span class="op">=</span><span class="st">'bar'</span>)<span class="op">;</span></span></code></pre>
</div>
<div id="challenge---plots" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge---plots" class="callout-inner">
<h3 class="callout-title">Challenge - Plots</h3>
<div class="callout-content">
<ol style="list-style-type: decimal"><li>Create a plot of average weight across all species per site.</li>
<li>Create a plot of total males versus total females for the entire
dataset.</li>
</ol></div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<ol style="list-style-type: decimal"><li><code>surveys_df.groupby('plot_id').mean()["weight"].plot(kind='bar')</code></li>
</ol><figure><img src="../fig/01_chall_bar_meanweight.png" alt="average weight across all species for each plot" class="figure mx-auto d-block"></figure><ol start="2" style="list-style-type: decimal"><li><code>surveys_df.groupby('sex').count()["record_id"].plot(kind='bar')</code></li>
</ol><figure><img src="../fig/01_chall_bar_totalsex.png" alt="total males versus total females for the entire dataset" class="figure mx-auto d-block"></figure></div>
</div>
</div>
</div>
<div id="summary-plotting-challenge" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="summary-plotting-challenge" class="callout-inner">
<h3 class="callout-title">Summary Plotting Challenge</h3>
<div class="callout-content">
<p>Create a stacked bar plot, with weight on the Y axis, and the stacked
variable being sex. The plot should show total weight by sex for each
site. Some tips are below to help you solve this challenge:</p>
<ul><li>For more information on pandas plots, see <a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/visualization.html#basic-plotting-plot" class="external-link">pandas’
documentation page on visualization</a>.</li>
<li>You can use the code that follows to create a stacked bar plot but
the data to stack need to be in individual columns. Here’s a simple
example with some data where ‘a’, ‘b’, and ‘c’ are the groups, and ‘one’
and ‘two’ are the subgroups.</li>
</ul><div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a>d <span class="op">=</span> {<span class="st">'one'</span> : pd.Series([<span class="fl">1.</span>, <span class="fl">2.</span>, <span class="fl">3.</span>], index<span class="op">=</span>[<span class="st">'a'</span>, <span class="st">'b'</span>, <span class="st">'c'</span>]), <span class="st">'two'</span> : pd.Series([<span class="fl">1.</span>, <span class="fl">2.</span>, <span class="fl">3.</span>, <span class="fl">4.</span>], index<span class="op">=</span>[<span class="st">'a'</span>, <span class="st">'b'</span>, <span class="st">'c'</span>, <span class="st">'d'</span>])}</span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a>pd.DataFrame(d)</span></code></pre>
</div>
<p>shows the following data</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>      one  two
  a    1    1
  b    2    2
  c    3    3
  d  NaN    4</code></pre>
</div>
<p>We can plot the above with</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="co"># Plot stacked data so columns 'one' and 'two' are stacked</span></span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a>my_df <span class="op">=</span> pd.DataFrame(d)</span>
<span id="cb36-3"><a href="#cb36-3" tabindex="-1"></a>my_df.plot(kind<span class="op">=</span><span class="st">'bar'</span>, stacked<span class="op">=</span><span class="va">True</span>, title<span class="op">=</span><span class="st">"The title of my graph"</span>)</span></code></pre>
</div>
<figure><img src="../fig/stackedBar1.png" alt="Stacked Bar Plot" class="figure mx-auto d-block"></figure><ul><li>You can use the <code>.unstack()</code> method to transform grouped
data into columns for each plotting. Try running <code>.unstack()</code>
on some DataFrames above and see what it yields.</li>
</ul><p>Start by transforming the grouped data (by site and sex) into an
unstacked layout, then create a stacked plot.</p>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Solution to Summary Challenge </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<p>First we group data by site and by sex, and then calculate a total
for each site.</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a>by_site_sex <span class="op">=</span> surveys_df.groupby([<span class="st">'plot_id'</span>, <span class="st">'sex'</span>])</span>
<span id="cb37-2"><a href="#cb37-2" tabindex="-1"></a>site_sex_count <span class="op">=</span> by_site_sex[<span class="st">'weight'</span>].<span class="bu">sum</span>()</span></code></pre>
</div>
<p>This calculates the sums of weights for each sex within each site as
a table</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>site  sex
plot_id  sex
1        F      38253
         M      59979
2        F      50144
         M      57250
3        F      27251
         M      28253
4        F      39796
         M      49377
&lt;other sites removed for brevity&gt;</code></pre>
</div>
<p>Below we’ll use <code>.unstack()</code> on our grouped data to figure
out the total weight that each sex contributed to each site.</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a>by_site_sex <span class="op">=</span> surveys_df.groupby([<span class="st">'plot_id'</span>, <span class="st">'sex'</span>])</span>
<span id="cb39-2"><a href="#cb39-2" tabindex="-1"></a>site_sex_count <span class="op">=</span> by_site_sex[<span class="st">'weight'</span>].<span class="bu">sum</span>()</span>
<span id="cb39-3"><a href="#cb39-3" tabindex="-1"></a>site_sex_count.unstack()</span></code></pre>
</div>
<p>The <code>unstack</code> method above will display the following
output:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>sex          F      M
plot_id
1        38253  59979
2        50144  57250
3        27251  28253
4        39796  49377
&lt;other sites removed for brevity&gt;</code></pre>
</div>
<p>Now, create a stacked bar plot with that data where the weights for
each sex are stacked by site.</p>
<p>Rather than display it as a table, we can plot the above data by
stacking the values of each sex as follows:</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a>by_site_sex <span class="op">=</span> surveys_df.groupby([<span class="st">'plot_id'</span>, <span class="st">'sex'</span>])</span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a>site_sex_count <span class="op">=</span> by_site_sex[<span class="st">'weight'</span>].<span class="bu">sum</span>()</span>
<span id="cb41-3"><a href="#cb41-3" tabindex="-1"></a>spc <span class="op">=</span> site_sex_count.unstack()</span>
<span id="cb41-4"><a href="#cb41-4" tabindex="-1"></a>s_plot <span class="op">=</span> spc.plot(kind<span class="op">=</span><span class="st">'bar'</span>, stacked<span class="op">=</span><span class="va">True</span>, title<span class="op">=</span><span class="st">"Total weight by site and sex"</span>)</span>
<span id="cb41-5"><a href="#cb41-5" tabindex="-1"></a>s_plot.set_ylabel(<span class="st">"Weight"</span>)</span>
<span id="cb41-6"><a href="#cb41-6" tabindex="-1"></a>s_plot.set_xlabel(<span class="st">"Plot"</span>)</span></code></pre>
</div>
<figure><img src="../fig/stackedBar.png" alt="Stacked Bar Plot" class="figure mx-auto d-block"></figure></div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul><li>Libraries enable us to extend the functionality of Python.</li>
<li>Pandas is a popular library for working with data.</li>
<li>A Dataframe is a Pandas data structure that allows one to access
data by column (name or index) or row.</li>
<li>Aggregating data using the <code>groupby()</code> function enables
you to generate useful summaries of data quickly.</li>
<li>Plots can be created from DataFrames or subsets of data that have
been generated with <code>groupby()</code>.</li>
</ul></div>
</div>
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/01-short-introduction-to-Python.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/03-index-slice-subset.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/01-short-introduction-to-Python.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Short Introduction
        </a>
        <a class="chapter-link float-end" href="../instructor/03-index-slice-subset.html" rel="next">
          Next: Indexing, Slicing...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/datacarpentry/python-ecology-lesson/edit/main/episodes/02-starting-with-data.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/datacarpentry/python-ecology-lesson/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/datacarpentry/python-ecology-lesson/" class="external-link">Source</a></p>
				<p><a href="https://github.com/datacarpentry/python-ecology-lesson/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.12" class="external-link">sandpaper (0.16.12)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.6" class="external-link">varnish (1.0.6)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://datacarpentry.github.io/python-ecology-lesson/instructor/02-starting-with-data.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Starting With Data",
  "creativeWorkStatus": "active",
  "url": "https://datacarpentry.github.io/python-ecology-lesson/instructor/02-starting-with-data.html",
  "identifier": "https://datacarpentry.github.io/python-ecology-lesson/instructor/02-starting-with-data.html",
  "dateCreated": "2015-03-19",
  "dateModified": "2024-02-23",
  "datePublished": "2025-05-27"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo --><script>
          var _paq = window._paq = window._paq || [];
          /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
          _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
          _paq.push(["setDomains", ["*.lessons.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
          _paq.push(["setDoNotTrack", true]);
          _paq.push(["disableCookies"]);
          _paq.push(["trackPageView"]);
          _paq.push(["enableLinkTracking"]);
          (function() {
              var u="https://matomo.carpentries.org/";
              _paq.push(["setTrackerUrl", u+"matomo.php"]);
              _paq.push(["setSiteId", "1"]);
              var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0];
              g.async=true; g.src="https://matomo.carpentries.org/matomo.js"; s.parentNode.insertBefore(g,s);
          })();
        </script><!-- End Matomo Code --></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

